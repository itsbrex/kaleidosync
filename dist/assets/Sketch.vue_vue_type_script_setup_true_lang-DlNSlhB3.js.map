{"version":3,"file":"Sketch.vue_vue_type_script_setup_true_lang-DlNSlhB3.js","sources":["../../node_modules/@wearesage/vue/src/components/webgl/Sketch.vue"],"sourcesContent":["<template>\n  <TresCanvas class=\"sketch\" @click=\"$emit('click')\" :render-mode=\"'manual'\" ref=\"canvas\">\n    <TresPerspectiveCamera :position=\"[0, 0, 1]\" />\n    <SketchMesh v-bind=\"{ shader, volume, stream, uniforms, animate, width, height, dpr }\" ref=\"sketch\">\n      <slot />\n    </SketchMesh>\n  </TresCanvas>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAnimation } from \"../../composables\";\nimport { onBeforeUnmount, shallowRef } from \"vue\";\nimport SketchMesh from \"./SketchMesh.vue\";\nimport { type SketchProps } from \"../../types/sketches\";\n\ndefineEmits([\"click\"]);\n\nconst props = withDefaults(defineProps<SketchProps>(), {\n  renderMode: \"manual\",\n  volume: 1,\n  stream: 0,\n  animate: false,\n  visible: true\n});\n\nconst sketch = shallowRef();\nconst canvas = shallowRef();\n\nconst { start, stop } = useAnimation(\n  now => {\n    if (!canvas.value?.context) return;\n    const { renderer, scene, camera } = canvas.value?.context;\n    sketch.value?.update?.(now);\n    renderer.value.render(scene.value, camera.value);\n  },\n  { autoStart: false }\n);\n\nonBeforeUnmount(stop);\n\nif (props.animate) start();\n</script>\n"],"names":["props","__props","sketch","shallowRef","canvas","start","stop","useAnimation","now","renderer","scene","camera","onBeforeUnmount","_createBlock","_component_TresCanvas","$emit","_createElementVNode","_createVNode","SketchMesh","_mergeProps","shader","volume","stream","uniforms","animate","width","height","dpr","_renderSlot","_ctx"],"mappings":"6bAiBA,MAAMA,EAAQC,EAQRC,EAASC,EAAA,EACTC,EAASD,EAAA,EAET,CAAE,MAAAE,EAAO,KAAAC,CAAA,EAASC,EACtBC,GAAO,CACL,GAAI,CAACJ,EAAO,OAAO,QAAS,OAC5B,KAAM,CAAE,SAAAK,EAAU,MAAAC,EAAO,OAAAC,CAAA,EAAWP,EAAO,OAAO,QAClDF,EAAO,OAAO,SAASM,CAAG,EAC1BC,EAAS,MAAM,OAAOC,EAAM,MAAOC,EAAO,KAAK,CAAA,EAEjD,CAAE,UAAW,EAAA,CAAM,EAGrB,OAAAC,EAAgBN,CAAI,EAEhBN,EAAM,SAASK,EAAA,6CAvCjBQ,EAKaC,EAAA,CALD,MAAM,SAAU,uBAAOC,EAAAA,MAAK,OAAA,GAAY,cAAa,iBAAc,SAAJ,IAAIX,CAAA,aAC7E,IAA+C,aAA/CY,EAA+C,wBAAA,CAAvB,SAAU,CAAA,EAAA,EAAA,CAAA,CAAA,EAAS,KAAA,EAAA,GAC3CC,EAEaC,EAFbC,EAEa,CAAA,OAFSC,EAAAA,OAAM,OAAEC,SAAM,OAAEC,EAAAA,OAAM,SAAEC,EAAAA,iBAAUC,EAAAA,QAAO,MAAEC,QAAK,OAAEC,EAAAA,WAAQC,EAAAA,GAAAA,EAAG,SAAQ,SAAJ,IAAIzB,CAAA,cACzF,IAAQ,CAAR0B,EAAQC,EAAA,OAAA,SAAA,CAAA","x_google_ignoreList":[0]}