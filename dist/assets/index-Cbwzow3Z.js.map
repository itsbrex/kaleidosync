{"version":3,"file":"index-Cbwzow3Z.js","sources":["../../node_modules/@wearesage/vue/src/composables/spaces/useGlobalActiveUsers.ts","../../src/components/HomepageHero.vue","../../src/pages/index.vue"],"sourcesContent":["import { ref, watch, onUnmounted } from \"vue\";\nimport { useSocketCore } from \"../../stores/socket-core\";\nimport { useUserState } from \"../../stores/user-state\";\n\ninterface GlobalActiveData {\n  totalUsers: number;\n  coordinates: ArrayBuffer; // ULTRA-PACKED 8-BIT COORDINATES (4 per float)! 💀🔥\n  coordinateCount: number;\n  packedFloatCount: number;\n  activities: Record<string, number>;\n  lastUpdated: number;\n}\n\n/**\n * BLAZING FAST Global Active Users - Direct from Active Space Service! ⚡\n * No aggregate space complexity, just pure speed!\n */\nexport function useGlobalActiveUsers() {\n  const userState = useUserState();\n  const socket = useSocketCore();\n  \n  // State\n  const totalUsers = ref(0);\n  const locations = ref<Array<{ lat: number; lng: number }>>([]);\n  const activities = ref<Record<string, number>>({});\n  const joined = ref(false);\n\n  // Global update handler reference for proper cleanup\n  let globalUpdateHandler: ((data: GlobalActiveData) => void) | null = null;\n\n  // Only listen for updates when on homepage (PROPER subscription management!)\n  watch(\n    () => userState.isOnHomepage,\n    (isOnHomepage) => {\n      if (isOnHomepage && socket.connected) {\n        // Join homepage room for direct active space broadcasts\n        socket.emit('homepage:join');\n        \n        // Subscribe to global updates ONLY when on homepage! 🔥\n        globalUpdateHandler = (data: GlobalActiveData) => {\n          // Defensive check - server should NEVER send null but let's be safe\n          if (!data) {\n            console.warn('⚠️💀 Received null data in global update! Server bug detected!');\n            return;\n          }\n          \n          // Handle empty coordinates case (when no users have coordinates)\n          if (data.coordinateCount === 0 && data.packedFloatCount === 0) {\n            totalUsers.value = data.totalUsers;\n            locations.value = [];\n            activities.value = data.activities;\n            console.log(`⚡💀 No coordinates to unpack: ${data.totalUsers} users online`);\n            return;\n          }\n          \n          if (typeof data.totalUsers !== 'number' || !(data.coordinates instanceof ArrayBuffer) || typeof data.coordinateCount !== 'number' || typeof data.packedFloatCount !== 'number') {\n            console.warn('⚠️💀 Invalid global update data:', data);\n            return;\n          }\n          \n          totalUsers.value = data.totalUsers;\n          \n          // 💀🔥💀 UNPACK THE ULTIMATE 8-BIT MADNESS! 💀🔥💀\n          const ultraPackedFloats = new Float32Array(data.coordinates);\n          \n          // Process ULTRA-PACKED 8-bit coordinates (4 coordinate pairs per float!)\n          const processedLocations: Array<{ lat: number; lng: number }> = [];\n          const unpackBuffer = new ArrayBuffer(4);\n          const floatView = new Float32Array(unpackBuffer);\n          const intView = new Uint32Array(unpackBuffer);\n          \n          // Each pair of floats contains 4 coordinate pairs!\n          for (let i = 0; i < ultraPackedFloats.length; i += 2) {\n            // UNPACK FIRST FLOAT: [lat1(8)|lng1(8)|lat2(8)|lng2(8)]\n            floatView[0] = ultraPackedFloats[i];\n            const packed1 = intView[0];\n            \n            const quantLat1 = (packed1 >>> 24) & 0xFF;  // Upper 8 bits\n            const quantLng1 = (packed1 >>> 16) & 0xFF;  // Next 8 bits  \n            const quantLat2 = (packed1 >>> 8) & 0xFF;   // Next 8 bits\n            const quantLng2 = packed1 & 0xFF;           // Lower 8 bits\n            \n            // UNPACK SECOND FLOAT: [lat3(8)|lng3(8)|lat4(8)|lng4(8)]\n            const packed2 = i + 1 < ultraPackedFloats.length ? (() => {\n              floatView[0] = ultraPackedFloats[i + 1];\n              return intView[0];\n            })() : 0;\n            \n            const quantLat3 = (packed2 >>> 24) & 0xFF;\n            const quantLng3 = (packed2 >>> 16) & 0xFF;\n            const quantLat4 = (packed2 >>> 8) & 0xFF;\n            const quantLng4 = packed2 & 0xFF;\n            \n            // DEQUANTIZE: 8-bit → lat/lng coordinates\n            const coords = [\n              { lat: quantLat1, lng: quantLng1 },\n              { lat: quantLat2, lng: quantLng2 },\n              { lat: quantLat3, lng: quantLng3 },\n              { lat: quantLat4, lng: quantLng4 }\n            ];\n            \n            coords.forEach(coord => {\n              // Skip padded zeros\n              if (coord.lat === 0 && coord.lng === 0) return;\n              \n              const lat = (coord.lat * 180 / 255) - 90;   // 0-255 → -90/90\n              const lng = (coord.lng * 360 / 255) - 180;  // 0-255 → -180/180\n              \n              processedLocations.push({ lat, lng });\n            });\n          }\n          \n          // Trim to actual coordinate count (remove padding)\n          locations.value = processedLocations.slice(0, data.coordinateCount);\n          activities.value = data.activities;\n          \n          const payloadSize = data.coordinates.byteLength;\n          const originalSize = data.coordinateCount * 8; // What it would be with 2 floats per point\n          const savings = ((originalSize - payloadSize) / originalSize * 100).toFixed(1);\n          const coordsPerFloat = data.coordinateCount / data.packedFloatCount;\n          \n          console.log(`⚡💀🔥 UNPACKED ULTRA 8-BIT MADNESS: ${data.totalUsers} users, ${data.coordinateCount} coords in ${data.packedFloatCount} floats (${coordsPerFloat.toFixed(1)} coords/float), ${payloadSize} bytes (${savings}% savings!)`);\n        };\n        \n        socket.on('active-space:global-update', globalUpdateHandler);\n        joined.value = true;\n        console.log('🏠⚡ Joined homepage room AND subscribed to global updates!');\n      } else if (joined.value) {\n        // Leave homepage room AND unsubscribe properly! 🧹\n        socket.emit('homepage:leave');\n        \n        if (globalUpdateHandler) {\n          socket.off('active-space:global-update', globalUpdateHandler);\n          globalUpdateHandler = null;\n          console.log('🧹💀 Unsubscribed from global updates - no memory leaks!');\n        }\n        \n        joined.value = false;\n        console.log('🚪 Left homepage room');\n      }\n    },\n    { immediate: true }\n  );\n\n  // Handle socket reconnection (PROPER subscription management!)\n  watch(\n    () => socket.connected,\n    (connected) => {\n      if (connected && userState.isOnHomepage && !joined.value) {\n        // Rejoin room and re-subscribe on reconnection\n        socket.emit('homepage:join');\n        \n        if (!globalUpdateHandler) {\n          // Re-create handler if it doesn't exist\n          globalUpdateHandler = (data: GlobalActiveData) => {\n            if (!data) {\n              console.warn('⚠️💀 Received null data in global update! Server bug detected!');\n              return;\n            }\n            \n            // Handle empty coordinates case (when no users have coordinates)\n            if (data.coordinateCount === 0 && data.packedFloatCount === 0) {\n              totalUsers.value = data.totalUsers;\n              locations.value = [];\n              activities.value = data.activities;\n              console.log(`⚡💀 RECONNECT: No coordinates to unpack: ${data.totalUsers} users online`);\n              return;\n            }\n            \n            if (typeof data.totalUsers !== 'number' || !(data.coordinates instanceof ArrayBuffer) || typeof data.coordinateCount !== 'number' || typeof data.packedFloatCount !== 'number') {\n              console.warn('⚠️💀 Invalid global update data:', data);\n              return;\n            }\n            \n            totalUsers.value = data.totalUsers;\n            \n            // 💀🔥💀 UNPACK THE ULTIMATE 8-BIT MADNESS! (RECONNECTION VERSION)\n            const ultraPackedFloats = new Float32Array(data.coordinates);\n            const processedLocations: Array<{ lat: number; lng: number }> = [];\n            const unpackBuffer = new ArrayBuffer(4);\n            const floatView = new Float32Array(unpackBuffer);\n            const intView = new Uint32Array(unpackBuffer);\n            \n            for (let i = 0; i < ultraPackedFloats.length; i += 2) {\n              floatView[0] = ultraPackedFloats[i];\n              const packed1 = intView[0];\n              \n              const coords = [\n                { lat: (packed1 >>> 24) & 0xFF, lng: (packed1 >>> 16) & 0xFF },\n                { lat: (packed1 >>> 8) & 0xFF, lng: packed1 & 0xFF }\n              ];\n              \n              if (i + 1 < ultraPackedFloats.length) {\n                floatView[0] = ultraPackedFloats[i + 1];\n                const packed2 = intView[0];\n                coords.push(\n                  { lat: (packed2 >>> 24) & 0xFF, lng: (packed2 >>> 16) & 0xFF },\n                  { lat: (packed2 >>> 8) & 0xFF, lng: packed2 & 0xFF }\n                );\n              }\n              \n              coords.forEach(coord => {\n                if (coord.lat === 0 && coord.lng === 0) return;\n                processedLocations.push({\n                  lat: (coord.lat * 180 / 255) - 90,\n                  lng: (coord.lng * 360 / 255) - 180\n                });\n              });\n            }\n            \n            locations.value = processedLocations.slice(0, data.coordinateCount);\n            activities.value = data.activities;\n            \n            const payloadSize = data.coordinates.byteLength;\n            const originalSize = data.coordinateCount * 8;\n            const savings = ((originalSize - payloadSize) / originalSize * 100).toFixed(1);\n            \n            console.log(`⚡💀🔥 RECONNECT ULTRA UNPACK: ${data.totalUsers} users, ${payloadSize} bytes (${savings}% savings!)`);\n          };\n        }\n        \n        socket.on('active-space:global-update', globalUpdateHandler);\n        joined.value = true;\n        console.log('🔌⚡ Socket reconnected - rejoined homepage room and re-subscribed!');\n      }\n    }\n  );\n\n  // Clean up on unmount (prevents ghost listeners and memory leaks!)\n  onUnmounted(() => {\n    if (joined.value) {\n      socket.emit('homepage:leave');\n      \n      if (globalUpdateHandler) {\n        socket.off('active-space:global-update', globalUpdateHandler);\n        globalUpdateHandler = null;\n        console.log('🧹💀 Unsubscribed from global updates on unmount');\n      }\n      \n      joined.value = false;\n      console.log('🧹 Cleaned up homepage room on component unmount');\n    }\n  });\n\n  return {\n    totalUsers,\n    locations,\n    activities,\n    joined,\n  };\n}","<template>\n  <Transition name=\"fade\">\n    <Row gap=\"0.5\" v-if=\"!toast.visible\" class=\"active-users\" align=\"center\" justify=\"center\">\n      <i class=\"dot\"></i>\n      <span>{{ globalUsers.totalUsers }} people seeing the music <strong>right now</strong></span>\n    </Row>\n  </Transition>\n\n  <Column class=\"hero\" align=\"start\" :padding=\"device.isMobile ? '1 1 1 1' : '1 1 1 5'\" gap=\"1\" justify=\"center\">\n    <Row align=\"start\" justify=\"start\" is=\"h1\">\n      <span>what</span>\n      <div ref=\"div\" :class=\"{ empty: visible.length === 0 }\">{{ visible }}<i :class=\"{ blink }\">&nbsp;</i></div>\n      <span><strong>LOOKS like</strong> </span>\n    </Row>\n\n    <Column gap=\"1\" v-if=\"!auth.isAuthenticated\">\n      <Button @click=\"auth.signIn\" :disabled=\"auth.isAuthenticating\">\n        {{ auth.isAuthenticating ? \"SIGNING IN...\" : \"SIGN IN\" }}\n      </Button>\n    </Column>\n  </Column>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onBeforeUnmount, onUnmounted } from \"vue\";\nimport {\n  Column,\n  Row,\n  Button,\n  pause,\n  randomNumber,\n  useViewport,\n  useAnimation,\n  useAuth,\n  useToast,\n  useGlobalActiveUsers,\n  useDevice\n} from \"@wearesage/vue\";\n\nconst device = useDevice();\nconst viewport = useViewport();\nconst auth = useAuth();\nconst toast = useToast();\nconst globalUsers = useGlobalActiveUsers();\nconst typed = ref([\"Spotify\", \"Audius\", \"Radio Paradise\", \"your voice\"]);\nconst activeIndex = ref(0);\nconst visible = ref(\"\");\nconst blink = ref(false);\nconst currentWord = computed(() => typed.value[activeIndex.value]);\n\nlet isAnimating = ref(true);\n\nlet interval: any;\n\nfunction initBlink() {\n  interval = setInterval(() => {\n    blink.value = !blink.value;\n  }, 400);\n}\n\nasync function typeWord() {\n  clearInterval(interval);\n  blink.value = false;\n  const word = currentWord.value;\n  for (let i = 0; i <= word.length; i++) {\n    if (!isAnimating.value) return;\n    visible.value = word.substring(0, i);\n    await pause(randomNumber(60, 140));\n  }\n  initBlink();\n}\n\nasync function backspaceWord() {\n  clearInterval(interval);\n  blink.value = false;\n  const word = visible.value;\n  for (let i = word.length; i >= 0; i--) {\n    if (!isAnimating.value) return;\n    visible.value = word.substring(0, i);\n    await pause(randomNumber(30, 120));\n  }\n  initBlink();\n}\n\nasync function animateWords() {\n  while (isAnimating.value) {\n    await typeWord();\n    await pause(3000);\n    await backspaceWord();\n    activeIndex.value = (activeIndex.value + 1) % typed.value.length;\n    await pause(800);\n  }\n}\n\nonMounted(() => {\n  animateWords();\n});\n\nonBeforeUnmount(() => {\n  clearInterval(interval);\n});\n\nonUnmounted(() => {\n  isAnimating.value = false;\n});\n\nuseAnimation(() => {\n  viewport.onScroll(0.5);\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.hero {\n  @include size(100vw, 100vh);\n  position: relative;\n  z-index: 1;\n  * {\n    position: relative;\n  }\n}\n\nh1 {\n  width: 100% !important;\n  font-size: 3rem;\n  line-height: 1.25;\n  border-radius: 5rem;\n\n  div {\n    // font-size: 7rem;\n    // letter-spacing: -0.5rem;\n    // height: 8.75rem;\n    padding: 0 0.5rem;\n    transition: $transition;\n  }\n}\n\nstrong,\nspan {\n  color: rgba($white, 0.5);\n  text-transform: lowercase;\n}\n\ni {\n  @include size(0.25rem, 100%);\n  background: $pink;\n  display: inline-flex;\n\n  &.blink {\n    background-color: transparent;\n  }\n}\n\nbutton {\n  @include box(1 1.5);\n  background: $pink;\n  border-radius: 3rem;\n  font-size: 1.5rem;\n  border: 1px solid $pink;\n  font-family: var(--display);\n  transition: var(--hover-transition);\n}\n\nbutton:hover {\n  color: $white;\n}\n\n.active-users {\n  @include position(fixed, 0 0 null 0, 50);\n  width: 100%;\n  font-size: 0.9rem;\n  color: rgba($white, 0.7);\n  margin-top: 1rem;\n\n  .dot {\n    @include size(0.5rem, 0.5rem);\n    transform-origin: center center;\n    background: #22c55e; // green dot\n    border-radius: 50%;\n    animation: pulse 3s infinite ease-in-out;\n  }\n\n  span {\n    padding: 0.5rem 0;\n  }\n}\n\n@keyframes pulse {\n  0%,\n  100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(0.5);\n  }\n}\n\nh1 {\n  @include mobile {\n    font-size: 1.5rem;\n\n    div {\n      font-size: 2rem;\n      letter-spacing: 0;\n      height: 3rem;\n    }\n  }\n}\n</style>\n","<template>\n  <View>\n    <HomepageHero />\n  </View>\n</template>\n\n<script setup lang=\"ts\">\nimport { View } from \"@wearesage/vue\";\nimport { HomepageHero } from \"../components\";\n</script>\n\n<route lang=\"json\">\n{\n  \"name\": \"Homepage\",\n  \"meta\": {\n    \"description\": \"the homepage\",\n    \"requiresAuth\": false,\n    \"redirectWhenAuthenticated\": \"/visualizer\"\n  }\n}\n</route>\n"],"names":["useGlobalActiveUsers","userState","useUserState","socket","useSocketCore","totalUsers","ref","locations","activities","joined","globalUpdateHandler","watch","isOnHomepage","data","ultraPackedFloats","processedLocations","unpackBuffer","floatView","intView","i","packed1","quantLat1","quantLng1","quantLat2","quantLng2","packed2","quantLat3","quantLng3","quantLat4","quantLng4","coord","lat","lng","payloadSize","originalSize","savings","coordsPerFloat","connected","coords","onUnmounted","device","useDevice","viewport","useViewport","auth","useAuth","toast","useToast","globalUsers","typed","activeIndex","visible","blink","currentWord","computed","isAnimating","interval","initBlink","typeWord","word","pause","randomNumber","backspaceWord","animateWords","onMounted","onBeforeUnmount","useAnimation","_createVNode","_Transition","_unref","_createBlock","Row","_createElementVNode","_cache","Column","_normalizeClass","Button","_createTextVNode","_toDisplayString","View","HomepageHero"],"mappings":"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","x_google_ignoreList":[0]}