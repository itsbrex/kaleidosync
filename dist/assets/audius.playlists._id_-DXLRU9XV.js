import{r as $,w as z,d as m,k as I,e as v,o as p,n as C,h as e,_,i as w,g as d,t as k,l as V,a as P,b as g,m as q,p as Q,u,V as N,q as h,j as R}from"./index-xeh6oSzU.js";import{u as j}from"./audius-DGwImyxT.js";import{A as E,u as H}from"./AudiusTrackList-Cg1eBcPU.js";import{C as b}from"./Column-DJFcBtXG.js";import{A as c}from"./index-D0Qh0Tnp.js";function T(n){const a=j(),s=$(null);async function l(){n.value&&(s.value=await a.fetchPlaylistById(n.value))}return z(()=>n.value,l,{immediate:!0}),s}const G="/assets/vinyl-BQxYQaE3.png",L={class:"center"},Y=["src"],F=m({__name:"Vinyl",props:{size:{},src:{},volume:{},playing:{type:Boolean}},setup(n){return I(a=>({"4df2cd97":a.size})),(a,s)=>(p(),v("div",{class:C(["vinyl",{playing:a.playing}])},[s[2]||(s[2]=e("div",{class:"overlays"},null,-1)),s[3]||(s[3]=e("div",{class:"hole"},null,-1)),s[4]||(s[4]=e("img",{class:"bg",src:G},null,-1)),e("div",L,[e("img",{class:"album",src:a.src},null,8,Y),s[0]||(s[0]=e("div",{class:"inner"},null,-1)),s[1]||(s[1]=e("div",{class:"inner-2"},null,-1))])],2))}}),J=_(F,[["__scopeId","data-v-303bc128"]]),K={key:0},M=m({__name:"AudiusPlaylistHeader",props:{playlist:{}},emits:["play-playlist"],setup(n){return(a,s)=>a.playlist?(p(),v("header",K,[e("h1",null,k(a.playlist.playlist_name),1),e("h2",null,k(a.playlist.user.handle),1),d(V,{icon:"play",label:"Play All",onClick:s[0]||(s[0]=()=>a.$emit("play-playlist",a.playlist)),class:"play-button"})])):w("",!0)}}),O=_(M,[["__scopeId","data-v-b024aaf3"]]),W=m({__name:"AudiusPlaylistBody",props:{playlist:{}},emits:["play-playlist","play-track"],setup(n,{emit:a}){const s=a;function l(i){s("play-playlist",i)}function r(i,y){s("play-track",i,y)}return(i,y)=>(p(),P(b,{is:"section",padding:3,gap:3,cascade:""},{default:g(()=>[d(O,{playlist:i.playlist,onPlayPlaylist:l},null,8,["playlist"]),d(E,{tracks:i.playlist?.tracks,onPlayTrack:r},null,8,["tracks"])]),_:1}))}}),X=_(W,[["__scopeId","data-v-bd10cbcc"]]),Z={class:"record"},x={class:"vinyl-container"},ss=m({__name:"Record",props:{playing:{type:Boolean},volume:{},src:{default:"/images/native-speaker.jpg"},size:{default:"150vh"}},setup(n){return I(a=>({"0d1bf98c":a.size})),(a,s)=>(p(),v("div",Z,[e("div",x,[d(J,{src:a.src,playing:a.playing,volume:a.volume},null,8,["src","playing","volume"])])]))}}),as=_(ss,[["__scopeId","data-v-d4e4908e"]]),B=m({__name:"audius.playlists.[id]",setup(n){const a=H(),s=T(a),l=q(),r=Q(),i=R();function y(t){return{id:t.id,source:t.source,sourceId:t.sourceId,title:t.title,artist:t.artist,album:t.album,duration:t.duration,artwork:t.artwork,rawData:t.rawData}}async function U(t){if(!t.tracks||t.tracks.length===0){console.warn("Playlist has no tracks");return}console.log("ðŸŽµ Playing Audius playlist:",t.playlist_name,`(${t.tracks.length} tracks)`);const f=t.tracks.map(o=>h(o,c.AUDIUS)).filter(o=>o!==null).map(o=>y(o));if(f.length===0){console.error("No valid tracks found in playlist");return}r.source!==c.AUDIUS&&await r.selectSource(c.AUDIUS),l.setQueue(f,0),l.queue.isPlaying||l.togglePlayPause(),i.push("/visualizer")}async function S(t,f){const o=h(t,c.AUDIUS);if(!o)return;r.source!==c.AUDIUS&&await r.selectSource(c.AUDIUS);const D=y(o);l.setQueue([D],0),l.queue.isPlaying||l.togglePlayPause(),i.push("/visualizer")}return(t,f)=>(p(),P(u(N),null,{default:g(()=>[u(s)?(p(),P(u(b),{key:0,width:"100vw",cascade:""},{default:g(()=>[d(u(as),{src:u(s).artwork?.["1000x1000"],size:"120vh"},null,8,["src"]),d(u(X),{playlist:u(s),onPlayPlaylist:U,onPlayTrack:S},null,8,["playlist"])]),_:1})):w("",!0)]),_:1}))}}),ts="Audius Playlist Detail",ls={description:"view an Audius playlist",requiresAuth:!0},A={name:ts,meta:ls};typeof A=="function"&&A(B);const rs=_(B,[["__scopeId","data-v-98568305"]]);export{rs as default};
//# sourceMappingURL=audius.playlists._id_-DXLRU9XV.js.map
