import{r as c,w as h,a7 as y}from"./index-DLc9lyo5.js";function p(r,u=300){const e=c(""),s=c([]),o=c();return h(()=>e.value,async i=>{i.length>2?(clearTimeout(o.value),o.value=setTimeout(async()=>{s.value=await r(e.value)},u)):s.value=[]}),{query:e,results:s}}const n="http://localhost:2223",m=y("audius",()=>{const{query:r,results:u}=p(s),e=c({tracks:{week:[],month:[],year:[]},playlists:{week:[],month:[],year:[]}});async function s(t){return await(await fetch(`${n}/api/audius/search/${encodeURIComponent(t)}`)).json()}async function o(t){return await(await fetch(`${n}/api/audius/users/${encodeURIComponent(t)}`)).json()}async function i(t){return await(await fetch(`${n}/api/audius/playlists/${encodeURIComponent(t)}`)).json()}async function d(){const a=await(await fetch(`${n}/api/audius/trending`)).json();return console.log(a),e.value.tracks=a.tracks,e.value.playlists=a.playlists,a}async function f(t){return await(await fetch(`${n}/api/audius/stream/${encodeURIComponent(t)}`)).json()}return{query:r,results:u,trending:e,fetchTrending:d,fetchPlaylistById:i,fetchUser:o,getTrackStream:f}});export{m as u};
//# sourceMappingURL=audius-oCzObjGH.js.map
