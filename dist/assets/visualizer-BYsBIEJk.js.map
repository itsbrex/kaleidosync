{"version":3,"file":"visualizer-BYsBIEJk.js","sources":["../../../vue/src/util/parse-query-string.ts","../../../vue/src/composables/navigation/useNativeShare.ts","../../../vue/src/components/common/AudioSourceButton.vue","../../../vue/src/components/common/TrackDisplay.vue","../../../../../../../images/radio-paradise/main-mix.jpg","../../../../../../../images/radio-paradise/mellow-mix.jpg","../../../../../../../images/radio-paradise/rock-mix.jpg","../../../../../../../images/radio-paradise/global-mix.jpg","../../src/components/AudioSources.vue","../../src/components/Menu.vue","../../src/pages/visualizer.vue"],"sourcesContent":["export function parseQueryString(): Record<string, unknown> {\n  const values = [...new URLSearchParams(location.search).entries()];\n  return values.reduce((acc: Record<string, unknown>, [key, value]) => {\n    acc[key] = value;\n    return acc;\n  }, {});\n}","import { ref } from \"vue\";\nimport { useClipboard } from \"@vueuse/core\";\nimport { useToast } from \"../../stores/toast\";\n\nexport function useNativeShare() {\n  const toast = useToast();\n  const shareUrl = ref(\"https://beta.kaleidosync.com\");\n  const { copy } = useClipboard({ source: shareUrl });\n\n  async function share() {\n    if (navigator?.canShare({ url: shareUrl.value })) {\n      navigator?.share({ url: shareUrl.value });\n      return;\n    }\n\n    await copy();\n    toast.message(\"Link copied to clipboard!\");\n  }\n\n  return share;\n}\n","<template>\n  <IconButton\n    @click=\"$emit('click')\"\n    :class=\"{ [`source_${sources?.source}`]: sources?.source !== undefined }\"\n    :icon=\"sources.sourceIcon\"\n    :label=\"label\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { IconButton, useSources } from \"@wearesage/vue\";\n\ndefineEmits([\"click\"]);\n\nconst sources = useSources();\nconst label = computed(() => (true ? sources.prettySource ?? \"Audio Source\" : null));\n</script>\n\n<style lang=\"scss\" scoped>\n@each $source, $color in $source-colors {\n  .source_#{$source} {\n    border-width: 2px;\n    border-color: $color !important;\n    color: $color;\n\n    &:hover {\n      color: $color;\n    }\n  }\n}\n</style>\n","<template>\n  <Row class=\"track-display\" align=\"center\" justify=\"center\">\n    <Transition name=\"fade\">\n      <Row v-if=\"currentTrack\" center>\n        <div class=\"track-artwork\">\n          <img v-if=\"displayArtwork\" :src=\"displayArtwork\" :alt=\"`${displayTitle} by ${displayArtist}`\" @error=\"onImageError\" />\n          <div v-else class=\"artwork-placeholder\">\n            <Icon icon=\"vinyl\" />\n          </div>\n        </div>\n\n        <Row justify=\"center\" padding=\"1\" gap=\"1\" class=\"meta\">\n          <h3 class=\"track-title\">\n            <span class=\"title\">{{ displayTitle }}</span> <em> | </em>\n            <span v-if=\"displayArtist\" class=\"artist\"> {{ displayArtist }}</span>\n          </h3>\n\n          <!-- <Row class=\"position\" v-if=\"currentTrack.duration\" align=\"center\" gap=\"1\">\n          <span>{{ positionFormatted }}</span>\n\n          <div class=\"progress-bar\">\n            <div class=\"progress-fill\" :style=\"{ width: `${progressPercent}%` }\"></div>\n          </div>\n          <div class=\"progress-time\">\n            <span>{{ displayDuration }}</span>\n          </div>\n        </Row> -->\n        </Row>\n      </Row>\n    </Transition>\n\n    <Transition name=\"fade\">\n      <h3 v-if=\"!currentTrack && shouldShowNoTrackMessage\" class=\"none\">No track currently playing</h3>\n    </Transition>\n  </Row>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { Row, Icon } from \"../../components\";\nimport { useQueue, useSources } from \"../../stores\";\nimport { AudioSource } from \"@wearesage/shared\";\n\n// Simple: just show whatever's in the queue\nconst queue = useQueue();\nconst sources = useSources();\n\n// Queue tracks are already adapted, so use them directly\nconst currentTrack = computed(() => {\n  const track = queue.currentTrack;\n  console.log(\"üñºÔ∏è TrackDisplay currentTrack updated:\", track);\n  return track;\n});\n\n// Only show \"no track playing\" message for sources we don't control (like Spotify)\n// But respect alwaysShowTrack preference to force visibility\nconst shouldShowNoTrackMessage = computed(() => {\n  // Otherwise, only show for Spotify (sources we don't control)\n  return sources.source === AudioSource.SPOTIFY;\n});\n\n// Display helpers\nconst displayTitle = computed(() => currentTrack.value?.title || \"Unknown Track\");\nconst displayArtist = computed(() => currentTrack.value?.artist || \"Unknown Artist\");\nconst displayAlbum = computed(() => currentTrack.value?.album);\nconst displayArtwork = computed(() => {\n  const artwork = currentTrack.value?.artwork;\n  console.log(\"üñºÔ∏è TrackDisplay artwork debug:\", {\n    hasTrack: !!currentTrack.value,\n    artwork,\n    medium: artwork?.medium,\n    large: artwork?.large,\n    small: artwork?.small,\n    track: currentTrack.value\n  });\n  return artwork?.medium || artwork?.large || artwork?.small;\n});\nconst displayDuration = computed(() => {\n  const duration = currentTrack.value?.durationSeconds;\n  if (!duration) return null;\n\n  const minutes = Math.floor(duration / 60);\n  const seconds = duration % 60;\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n});\n\n// Progress helpers\nconst progressPercent = computed(() => {\n  const progress = currentTrack.value?.progress;\n  return progress ? Math.round(progress * 100) : 0;\n});\n\nconst positionFormatted = computed(() => {\n  const position = currentTrack.value?.position;\n  if (!position) return \"0:00\";\n\n  const seconds = Math.floor(position / 1000);\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${minutes}:${remainingSeconds.toString().padStart(2, \"0\")}`;\n});\n\nfunction getSourceLabel(source: AudioSource): string {\n  const labels: Record<AudioSource, string> = {\n    [AudioSource.NONE]: \"None\",\n    [AudioSource.SPOTIFY]: \"Spotify\",\n    [AudioSource.AUDIUS]: \"Audius\",\n    [AudioSource.RADIO_PARADISE]: \"Radio Paradise\",\n    [AudioSource.KEXP]: \"KEXP\",\n    [AudioSource.MICROPHONE]: \"Microphone\",\n    [AudioSource.FILE]: \"File\",\n    [AudioSource.BROWSER_AUDIO]: \"Browser Audio\"\n  };\n  return labels[source] || \"Unknown\";\n}\n\nfunction onImageError(event: Event) {\n  console.warn(\"üñºÔ∏è Artwork failed to load:\", (event.target as HTMLImageElement)?.src);\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.track-display {\n  @include position(fixed, null 0 1rem 1rem, 500);\n  @include flex-row(start, center);\n  width: 100%;\n\n  * {\n    font-family: \"Space Mono\", monospace;\n  }\n\n  @include mobile {\n    @include position(fixed, null 0 0.5rem 0, 500);\n    width: 100% !important;\n    padding: 0 !important;\n    transform: none;\n  }\n}\n\nh3 {\n  @include shadow;\n  @include box(0.25 0.5);\n\n  @include mobile {\n    @include box(0.5 1.5 0.5 1);\n  }\n}\n\nimg {\n  @include size(80px);\n  @include shadow;\n  border-radius: 4px;\n\n  @include mobile {\n    @include size(50px);\n  }\n}\n\n.artwork-placeholder {\n  @include size(80px);\n  @include flex-row(center, center);\n  @include shadow;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  border: 1px dashed rgba(255, 255, 255, 0.3);\n\n  @include mobile {\n    @include size(50px);\n  }\n\n  svg {\n    @include size(32px);\n    opacity: 0.5;\n\n    @include mobile {\n      @include size(24px);\n    }\n  }\n}\n\n.track-album {\n  text-wrap: nowrap;\n}\n\n.position {\n  span {\n    @include shadow;\n  }\n\n  @include mobile {\n    padding: 0 !important;\n    width: 100% !important;\n    transform: none;\n  }\n}\n\n.progress-bar {\n  width: 100%;\n  height: 1px;\n  background: $white;\n}\n\n.progress-fill {\n  height: 1px;\n  background: $pink;\n}\n\n.title {\n  padding-left: 0.5rem;\n}\n\n.artist {\n  color: $pink;\n  padding-right: 0.75rem;\n\n  @include mobile {\n    @include box(0.5);\n  }\n}\n\n.meta {\n  position: relative;\n}\n\nem {\n  @include mobile {\n    display: block;\n    width: 100%;\n    height: 0;\n    color: transparent;\n  }\n}\n</style>\n","export default \"__VITE_PUBLIC_ASSET__32a7068a__\"","export default \"__VITE_PUBLIC_ASSET__124947b7__\"","export default \"__VITE_PUBLIC_ASSET__549b18ab__\"","export default \"__VITE_PUBLIC_ASSET__61fbecb1__\"","<template>\n  <div>\n    <Transition name=\"fade\">\n      <nav v-if=\"radioParadise\">\n        <MenuHeader title=\"Choose your station\" @close=\"toggleRadioParadise\" />\n\n        <Column cascade gap=\".5\">\n          <button class=\"rp-btn\" @click=\"selectStation('MAIN_MIX')\">\n            <img src=\"/images/radio-paradise/main-mix.jpg\" />\n          </button>\n          <button class=\"rp-btn\" @click=\"selectStation('MELLOW_MIX')\">\n            <img src=\"/images/radio-paradise/mellow-mix.jpg\" />\n          </button>\n          <button class=\"rp-btn\" @click=\"selectStation('ROCK_MIX')\">\n            <img src=\"/images/radio-paradise/rock-mix.jpg\" />\n          </button>\n          <button class=\"rp-btn\" @click=\"selectStation('GLOBAL_MIX')\">\n            <img src=\"/images/radio-paradise/global-mix.jpg\" />\n          </button>\n        </Column>\n      </nav>\n    </Transition>\n\n    <Transition name=\"fade\">\n      <nav v-if=\"!radioParadise\">\n        <MenuHeader @close=\"$emit('close')\" title=\"choose your audio source\" />\n        <IconButton icon=\"spotify\" @click=\"$emit('select-source', AudioSource.SPOTIFY)\" label=\"Spotify\" />\n        <IconButton icon=\"audius\" @click=\"$emit('select-source', AudioSource.AUDIUS)\" label=\"Audius\" />\n        <IconButton icon=\"radio-paradise\" @click=\"toggleRadioParadise\" label=\"Radio Paradise\" />\n        <IconButton icon=\"kexp\" @click=\"$emit('select-source', AudioSource.KEXP)\" label=\"KEXP\" />\n        <IconButton icon=\"microphone\" @click=\"$emit('select-source', AudioSource.MICROPHONE)\" label=\"Microphone\" />\n\n        <span class=\"file-container\">\n          <IconButton icon=\"upload\" label=\"File\" />\n          <input ref=\"fileInput\" type=\"file\" multiple accept=\"audio/*\" @change=\"handleFileSelect\" />\n        </span>\n      </nav>\n    </Transition>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { Column, IconButton, useSources } from \"@wearesage/vue\";\nimport { AudioSource, RadioParadiseStation } from \"@wearesage/shared\";\nimport MenuHeader from \"./MenuHeader.vue\";\n\nconst emit = defineEmits([\"select-source\", \"close\", \"select-radio-paradise\"]);\n\nconst radioParadise = ref(false);\nconst fileInput = ref<HTMLInputElement>();\nconst sources = useSources();\n\nfunction toggleRadioParadise() {\n  radioParadise.value = !radioParadise.value;\n}\n\nfunction selectStation(station: keyof typeof RadioParadiseStation) {\n  const stationValue = RadioParadiseStation[station];\n  emit(\"select-radio-paradise\", { station: stationValue });\n  radioParadise.value = false; // Close the station selector\n}\n\nasync function handleFileSelect(event: Event) {\n  const target = event.target as HTMLInputElement;\n  const files = target.files;\n\n  if (files && files.length > 0) {\n    console.log(`üìÅ Selected ${files.length} file(s):`);\n    for (let i = 0; i < files.length; i++) {\n      console.log(`üìÅ - ${files[i].name} (${files[i].type})`);\n    }\n\n    // Select FILE source first, then load files\n    await sources.selectSource(AudioSource.FILE);\n    await sources.loadFiles(files);\n    \n    // Close the audio sources menu\n    emit(\"close\");\n  }\n\n  // Reset the input value so the same file can be selected again\n  target.value = \"\";\n}\n</script>\n\n<style lang=\"scss\" scoped>\nnav {\n  @include fixed-menu;\n}\n\n.rp-btn {\n  @include size(9rem, var(--element-size));\n  @include flex(center, center);\n  position: relative;\n  border-radius: 1.75rem;\n  padding-left: 2rem;\n  padding-top: 1rem;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  background: #000;\n  overflow: hidden;\n\n  img {\n    @include size(100%, auto);\n    z-index: 5;\n    position: absolute;\n    display: block;\n    transform: translateY(10px);\n  }\n\n  &.serenity {\n    padding: 0;\n    img {\n      transform: translateY(0px);\n    }\n  }\n}\n\n.stations {\n  // mix-blend-mode: exclusion;\n}\n\nnav div {\n  @include flex-row;\n}\n\n.rp-icon {\n  @include size(3rem);\n}\n\n.file-container {\n  @include size(auto, 3rem);\n\n  input {\n    @include position(absolute, 0 0 0 0, 10);\n    opacity: 0;\n  }\n}\n</style>\n","<template>\n  <nav>\n    <AudioSourceButton @click=\"$emit('open-sources')\" />\n\n    <IconButton\n      v-if=\"sources.source === AudioSource.AUDIUS\"\n      to=\"/audius\"\n      :label=\"state.showMenuLabels ? 'Library' : undefined\"\n      icon=\"vinyl\" />\n\n    <IconButton icon=\"eye\" :label=\"state.showMenuLabels ? 'Designs' : undefined\" @click=\"$emit('open-designs')\" />\n\n    <IconButton to=\"/design\" icon=\"sliders\" :label=\"state.showMenuLabels ? 'Customize' : undefined\" />\n\n    <IconButton to=\"/settings\" icon=\"settings\" :label=\"state.showMenuLabels ? 'Settings' : undefined\" />\n\n    <IconButton @click=\"share\" icon=\"share\" :label=\"state.showMenuLabels ? 'Share' : undefined\" />\n\n    <IconButton\n      v-if=\"viewport.fullscreenSupported\"\n      @click=\"viewport.toggleFullscreen\"\n      icon=\"fullscreen\"\n      :label=\"state.showMenuLabels ? 'Fullscreen' : undefined\" />\n  </nav>\n</template>\n\n<script setup lang=\"ts\">\nimport { IconButton, useViewport, useSources, useNativeShare, AudioSourceButton } from \"@wearesage/vue\";\nimport { AudioSource } from \"@wearesage/shared\";\n\ndefineEmits([\"open-sources\", \"open-designs\"]);\n\nconst viewport = useViewport();\nconst sources = useSources();\nconst share = useNativeShare();\n\nconst state = {\n  showMenuLabels: false\n};\n</script>\n\n<style lang=\"scss\" scoped>\nnav {\n  @include fixed-menu;\n}\n</style>\n","<template>\n  <View :class=\"{ hidden: ui.showShaderScroll }\">\n    <!-- <Transition name=\"fade-up\">\n      <AccountPill v-if=\"showMenu || showSources\" />\n    </Transition> -->\n\n    <Transition name=\"fade\">\n      <Menu v-if=\"showMenu && !forceHide\" @open-sources=\"openSources\" @open-designs=\"openDesigns\" />\n    </Transition>\n\n    <Transition name=\"fade\">\n      <AudioSources v-if=\"showSources\" @close=\"closeSources\" @select-source=\"selectSource\" @select-radio-paradise=\"selectRadioParadise\" />\n    </Transition>\n\n    <Transition name=\"fade-down\">\n      <TrackDisplay v-if=\"showMenu && !forceHide && sources.source\" />\n    </Transition>\n  </View>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from \"vue\";\nimport { useMagicKeys } from \"@vueuse/core\";\nimport { View, useSources, useViewport, useUI, useSketches, parseQueryString, TrackDisplay } from \"@wearesage/vue\";\nimport { Menu, AudioSources } from \"../components\";\nimport { useRouter } from \"@wearesage/vue\";\nimport { AudioSource, RadioParadiseStation } from \"@wearesage/shared\";\n\nconst router = useRouter();\nconst viewport = useViewport();\nconst sources = useSources();\nconst sketches = useSketches();\nconst ui = useUI();\nconst showSources = ref(!sources.source);\nconst showMenu = ref(!showSources.value);\nconst forceHide = ref(false);\nconst { ArrowUp, ArrowDown, ArrowLeft, ArrowRight } = useMagicKeys();\nconst showMenuTimeout = ref<any>(null);\nconst forceHideTimeout = ref<any>(null);\nconst MOUSE_TIMEOUT = 2000;\n\nonMounted(async () => {\n  const queryParams = parseQueryString();\n\n  if (queryParams.spotify === \"connected\") {\n    sources.selectSource(AudioSource.SPOTIFY);\n    router.cleanQuery(\"spotify\");\n    closeSources();\n    applyForceHide();\n  }\n});\n\nwatch(\n  () => viewport.mouse,\n  () => {\n    if (forceHide.value || showSources.value || ui.showShaderScroll) return;\n    clearTimeout(showMenuTimeout.value);\n    showMenu.value = true;\n    showMenuTimeout.value = setTimeout(() => {\n      showMenu.value = false;\n    }, MOUSE_TIMEOUT);\n  }\n);\n\nwatch(\n  showMenu,\n  val => {\n    if (val) {\n      sketches.stopMagicInterval();\n    } else {\n      sketches.startMagicInterval();\n    }\n  },\n  {\n    immediate: true\n  }\n);\n\nwatch(\n  () => sketches.sketch,\n  () => applyForceHide()\n);\n\nwatch(ArrowLeft, val => {\n  if (val) sketches.selectPreviousSketch(\"keyboard\");\n});\n\nwatch(ArrowUp, val => {\n  if (val) sketches.selectPreviousSketch(\"keyboard\");\n});\n\nwatch(ArrowRight, val => {\n  if (val) sketches.selectNextSketch(\"keyboard\");\n});\n\nwatch(ArrowDown, val => {\n  if (val) sketches.selectNextSketch(\"keyboard\");\n});\n\nfunction applyForceHide() {\n  clearTimeout(showMenuTimeout.value);\n  clearTimeout(forceHideTimeout.value);\n  forceHide.value = true;\n  showMenu.value = false;\n  forceHideTimeout.value = setTimeout(() => {\n    forceHide.value = false;\n  }, MOUSE_TIMEOUT / 2);\n}\n\nfunction openSources() {\n  showMenu.value = false;\n  showSources.value = true;\n}\n\nfunction closeSources() {\n  showSources.value = false;\n  showMenu.value = true;\n}\n\nfunction selectSource(source: AudioSource) {\n  sources.selectSource(source);\n  showSources.value = false;\n  showMenu.value = false;\n}\n\nfunction openDesigns() {\n  showMenu.value = false;\n  ui.showShaderScroll = true;\n}\n\nfunction selectRadioParadise(data: { station: RadioParadiseStation }) {\n  sources.selectRadioParadiseStation(data.station);\n  sources.selectSource(AudioSource.RADIO_PARADISE);\n  showSources.value = false;\n  showMenu.value = false;\n}\n</script>\n\n<route lang=\"json\">\n{\n  \"name\": \"Visualizer\",\n  \"meta\": {\n    \"description\": \"the main visualizer\",\n    \"requiresAuth\": true\n  }\n}\n</route>\n\n<style lang=\"scss\" scoped>\n.hidden {\n  pointer-events: none;\n}\n</style>\n"],"names":["parseQueryString","acc","key","value","useNativeShare","toast","useToast","shareUrl","ref","copy","useClipboard","share","sources","useSources","label","computed","_createBlock","_unref","IconButton","$emit","_normalizeClass","queue","useQueue","currentTrack","track","shouldShowNoTrackMessage","AudioSource","displayTitle","displayArtist","displayArtwork","artwork","duration","minutes","seconds","progress","position","remainingSeconds","onImageError","event","Row","_createVNode","_Transition","_createElementVNode","_hoisted_1","_createElementBlock","_openBlock","_hoisted_3","Icon","_hoisted_4","_hoisted_5","_toDisplayString","_cache","_hoisted_6","_hoisted_7","_imports_0","_imports_1","_imports_2","_imports_3","emit","__emit","radioParadise","fileInput","toggleRadioParadise","selectStation","station","stationValue","RadioParadiseStation","handleFileSelect","target","files","i","MenuHeader","Column","_hoisted_2","$event","viewport","useViewport","AudioSourceButton","MOUSE_TIMEOUT","router","useRouter","sketches","useSketches","ui","useUI","showSources","showMenu","forceHide","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","useMagicKeys","showMenuTimeout","forceHideTimeout","onMounted","closeSources","applyForceHide","watch","val","openSources","selectSource","source","openDesigns","selectRadioParadise","data","View","Menu","AudioSources","TrackDisplay"],"mappings":"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"}