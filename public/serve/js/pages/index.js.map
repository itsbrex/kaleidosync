{"version":3,"sources":["pages/index.js"],"names":["Index","loginButton","window","ZACH","Kaleidoscope","document","body","classList","add","button","querySelector","addEventListener","getAuthId","fetch","then","res","json","auth_id","location","href"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAEMA,K;AACJ,qBAAc;AAAA;;AACZ,WAAKC,WAAL;AACAC,aAAOC,IAAP,GAAc,IAAIC,sBAAJ,CAAiB,IAAjB,CAAd;AACAC,eAASC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,QAA5B;AACD;;;;oCAEa;AACZ,YAAMC,SAASJ,SAASK,aAAT,CAAuB,QAAvB,CAAf;AACAD,eAAOE,gBAAP,CAAwB,OAAxB,EAAiC,KAAKC,SAAtC;AACD;;;kCAEW;AACVC,cAAM,OAAN,EACGC,IADH,CACQ,UAACC,GAAD;AAAA,iBAASA,IAAIC,IAAJ,EAAT;AAAA,SADR,EAEGF,IAFH,CAEQ,UAACC,GAAD,EAAS;AACb,cAAIA,IAAIE,OAAR,EAAiB;AACff,mBAAOgB,QAAP,CAAgBC,IAAhB,uBAAyCJ,IAAIE,OAA7C;AACD;AACF,SANH;AAOD;;;;;;oBAGYjB,K","file":"index.js","sourcesContent":["import Kaleidoscope from '../kaleidosync/kaleidoscope'\n\nclass Index {\n  constructor() {\n    this.loginButton()\n    window.ZACH = new Kaleidoscope(true)\n    document.body.classList.add('loaded') \n  }\n\n  loginButton() {\n    const button = document.querySelector('.login')\n    button.addEventListener('click', this.getAuthId)\n  }\n\n  getAuthId() {\n    fetch('/auth')\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.auth_id) {\n          window.location.href = `/login?auth_id=${res.auth_id}`\n        }\n      })\n  }\n}\n\nexport default Index"]}